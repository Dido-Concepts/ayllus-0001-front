---
import Layout from '@src/layouts/Layout.astro'
import SectionLogo from '@src/components/SectionLogo.component.astro'
import HeaderPage from '@src/components/HeaderPage.component.astro'
import ProductoCopacSection from '@src/components/ProductoCopacSection.component.astro'
import {
  ahorrosHeaderService,
  ahorrosBodyService
} from '@src/context/ahorros/services/ahorros.service'

const title = 'Ahorros'

const headerData = await ahorrosHeaderService()

const data = await ahorrosBodyService();
---

<Layout title={title}>
  <HeaderPage title={title} imagen={headerData.imageHeader} />

  {
    data.map((item) => (
      <ProductoCopacSection
        title={item.nombreTipo}
        descripcion={item.descripcion}
        products={item.productCopacInfos}
        imagen={item.imagenTipo}
      />
    ))
  }

  <SectionLogo />
</Layout>
